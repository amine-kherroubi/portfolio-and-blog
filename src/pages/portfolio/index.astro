---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Navigation from "../../components/Navigation.astro";
import Footer from "../../components/Footer.astro";
import FilterBar from "../../components/FilterBar.astro";
import ProjectCard from "../../components/ProjectCard.astro";
import PageHeader from "../../components/PageHeader.astro";
import ContentList from "../../components/ContentList.astro";
import CapabilitiesSection from "../../components/CapabilitiesSection.astro";
import { getTagsByIds, type TagId } from "../../config/tags";

const projects = [
  {
    title: "Neural Networks",
    description: "Deep learning architecture optimization",
    year: "2024",
    tags: ["ai", "python", "machine-learning", "optimization"] as TagId[],
    link: "/portfolio/neural-networks",
  },
  {
    title: "Swiss Grid System",
    description: "Interactive design tool for web layouts",
    year: "2024",
    tags: [
      "design",
      "typescript",
      "web-development",
      "design-systems",
    ] as TagId[],
    link: "/portfolio/grid-system",
  },
  {
    title: "Quantum Computing",
    description: "Algorithm research and optimization",
    year: "2023",
    tags: ["research", "qiskit", "quantum-computing", "python"] as TagId[],
    link: "/portfolio/quantum",
  },
  {
    title: "Typographic Explorer",
    description: "Generative art with computational design",
    year: "2024",
    tags: ["creative", "canvas", "typography", "frontend"] as TagId[],
    link: "/portfolio/typography",
  },
];

const allTags = getTagsByIds([...new Set(projects.flatMap((p) => p.tags))]);

const capabilities = [
  {
    title: "Design",
    items: [
      "Interface Design",
      "Design Systems",
      "Typography",
      "Visual Identity",
    ],
  },
  {
    title: "Development",
    items: [
      "Frontend Engineering",
      "Python / TypeScript",
      "Machine Learning",
      "Algorithm Design",
    ],
  },
  {
    title: "Strategy",
    items: [
      "Technical Architecture",
      "Problem Solving",
      "Research & Analysis",
      "Process Optimization",
    ],
  },
];
---

<BaseLayout title="Portfolio">
  <Navigation currentPage="portfolio" />

  <PageHeader
    title="Portfolio"
    description="Selected projects demonstrating technical expertise and design thinking"
  />

  <FilterBar tags={allTags} type="portfolio" />

  <ContentList>
    {
      projects.map((project, i) => (
        <div
          data-portfolio-item
          data-portfolio-tags={project.tags.join(",")}
          class:list={[i === projects.length - 1 && "border-b-0"]}
        >
          <ProjectCard
            title={project.title}
            description={project.description}
            year={project.year}
            tags={project.tags}
            link={project.link}
            variant="list"
          />
        </div>
      ))
    }
  </ContentList>

  <CapabilitiesSection capabilities={capabilities} />

  <Footer />
</BaseLayout>
